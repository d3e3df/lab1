# Калькулятор M1
## Основные операции:
- `+` - сложение
- `-` - вычитание
- `*` - умножение
- `/` - деление
- `//` - деление нацело (только для целых чисел)
- `%` - остаток от деления (только для целых чисел)
- `**` - возведение в степень

## Особенности:
- Работает с целыми и дробными числами: `2.5 + 1.5 = 4`
- Понимает скобки: `(2 + 3) * 4 = 20`
- Поддерживает унарные операторы: `-5 + 3 = -2`
- Степень вычисляется справа налево: `2 ** 3 ** 2 = 512`
- Автоматически отбрасывает дробную часть равную нулю, т.е. ответ: `4.0` покажется как `4`
- Количество пробелов между операторами и числами не имеет значения
- Не понимает два оператора подряд без скобок:
`2 ++ 3` - ошибка(надо `2 + (+3)`), `3 * -2` - ошибка (надо `3 * (-2)`)
- Не работает с буквами или другими символами

## Запуск программы:
```bash
python -m src.main
```

### Примеры использования:
```
> 2 + 3 * 4
Результат: 14

> (2 + 3) * 4
Результат: 20

> -2 ** 2
Результат: -4

> 5 / 0
Ошибка: Деление на ноль

> exit
```

## Структура проекта

```
lab1/
├── src/
│   ├── main.py
│   ├── parser.py
│   ├── tokenizer.py
│   └── constants.py
├── tests/
│   ├── test_calculator.py
│   └── test_tokenizer.py
├── .gitignore
├── .pre-commit-config.yaml
├── pyproject.toml
├── uv.lock
└── README.md
```

## Запуск тестов

```bash
pytest tests/
```

## Возможные ошибки

### Синтаксические ошибки:

- `Два оператора подряд` - `2 ++ 3`, `3 * -2`, `5 + + 2`
- `Незакрытая скобка` - `(2 + 3`
- `Лишняя скобка` - `2 + 3)`
- `Неполное выражение` - `2 +` , `* 3`
- `Только оператор` - `+`, `-`
- `Неизвестный символ` - `2 @ 3`, `abc`, `2 & 5`

### Ошибки выполнения:

- `Деление на ноль` - `5 / 0`, `10 // 0`, `10 % 0`
- `// и % только для целых чисел` - `5.5 // 2`, `5.5 % 2`, `5 // 2.5`
- `Пустое выражение` - ввод пустой строки или пробелов
-  `Ответ не принадлежит R` - в ответе получилось комплексное число

Для выхода из программы введите `exit`.
